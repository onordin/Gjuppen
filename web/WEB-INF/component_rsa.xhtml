<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<meta http-equiv="Content-Type"
		content="application/xhtml+xml; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="stylesheet" href="../css/bootstrap.min.css" />
	<link rel="stylesheet" href="../css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" />
	<link rel="stylesheet" href="../css/style.css" />

	<script type='text/javascript' src="https://cdn.rawgit.com/jamesallardice/Placeholders.js/master/dist/placeholders.min.js"></script>
	<script src="../js/jquery-3.1.0.min.js" />
	<script src="../js/bootstrap.min.js" />


</h:head>

<h:body>

	<div class="container">
	
		<br></br>
		<hr></hr>
	
	
		<div class="row">
			<div class="col-sm-10" id="RSA">
				<h4>Demo RSA</h4>
					<br/>
					
					<h:form>
			        <h:commandButton value="Setup RSA keys">
			        	<f:ajax listener="#{encryptionBean.setupForNewDemo()}" render="private public" update="private public"/>
			        </h:commandButton>
			        </h:form>
			        
			        
			        <h:outputText value="Generated RSA Private Key:"></h:outputText>
			      	<br/>
			      	<h:outputText id="private" value="#{encryptionBean.privateKey} (this is normally kept secret at the server)"></h:outputText>
			      	<br/>
			      	<h:outputText value="Generated RSA Public Key:"></h:outputText>
			      	<br/>
			      	<h:outputText id="public" value="#{encryptionBean.publicKey}"></h:outputText>
			      	

					<h:form>
					
					<br/>
			      	<h:inputText id="entered" value="#{encryptionBean.textEntered}" required="true"
							requiredMessage="This field is required"></h:inputText>
			      	<br/>
			      	
			        <h:commandButton value="Encrypt using public key" action="#{encryptionBean.encryptMessage()}">
			        </h:commandButton>
			        	
			        </h:form>
					
					<div id="encryptedDiv">
					<h:outputText id="encrypted" value="#{encryptionBean.textEncrypted}"></h:outputText>
					</div>
						
			    	<h:outputText value="Decrypt it back again:"></h:outputText>
	
			    	<h:form>
					<h:commandButton value="Decrypt using private key" action="#{encryptionBean.decryptMessage()}"></h:commandButton>
			        </h:form>
					
					<div id="decryptedDiv">
					<h:outputText id="decrypted" value="#{encryptionBean.textDecrypted}"></h:outputText>
					</div>
		
		
			</div>
		</div>   <!-- end of row -->
	</div>	<!-- end of container -->


</h:body>

</html>